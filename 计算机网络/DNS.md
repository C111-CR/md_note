## DNS

###### DNS,全称为Domain Name System，域名系统

- 介绍：

  DNS是Internet上作为域名和IP地址互相映射的一个分布式数据库，简单来说就是一个根据域名查找IP地址和根据IP地址查找域名的系统。

- 域名层级
  - 根域名服务器
  - 顶级域名服务器
  - 权威域名服务器
  - 本地域名服务器

- 工作流程

  以 客户端根据域名(如www.google.com)请求查找IP地址 为例：

  - 客户端首先发出DNS请求，询问这个域名对应的IP地址，操作系统会先依次查看浏览器的缓存，操作系统的缓存（本地的`hosts`文件），路由器缓存，本地DNS服务器缓存，看是否有这个域名的地址映射关系，有则直接调用，完成地址解析。
  - 如果所有缓存中都没有对应的地址映射关系，则本地DNS服务器会向根域名服务器发送询问请求，根域名服务器会将对应的顶级域名服务器的IP地址告诉本地DNS服务器；本地DNS服务器则再向顶级域名服务器询问，获得权威域名服务器的IP地址... 总而言之，当本地缓存查找不到映射关系时，本地DNS服务器会向根域名服务器、顶级域名服务器等逐层询问，直到获得正确记录。
  - 最后，在获得正确的域名地址映射关系之后，本地域名都武器会将结果保存到缓存中，以便下一次使用。同时，把结果（IP地址）返回给客户端。