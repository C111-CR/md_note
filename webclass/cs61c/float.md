## 浮点数

#### 单精度浮点数(float)与双精度浮点数(double)

##### 单精度： $\underbrace{s}_{符号位} \underbrace{xxxx~xxxx}_{8bits(指数)} \underbrace{xx..xx}_{23bits(尾数)}$

##### 双精度：$\underbrace{s}_{符号位} \underbrace{xxx~xxxx~xxxx}_{11bits(指数)} \underbrace{xx..xx}_{52bits(尾数)}$

##### 1.符号位

正数 --- 0

负数 --- 1

##### 2.指数

指数以无符号数的形式看，减去偏阶后，即得到实际指数的补码

###### eg: （单精度）实际指数为-3时，指数编码为0111 1100，减去偏阶(0111 1111)后为 1111 1101，即-3的补码

偏阶：单精度 --- 127（$2^7-1$） 双精度 --- 1023（$2^{10} - 1$）

偏阶的意义在于，把0放在最中间的位置，以无符号数的形式看，从最小负指数到最大正指数是递增的；

即      $\underbrace{编码:从~0000~0000~到~0111~1110}_{实际指数:从~-127~到~-1}$  $\underbrace{0111~1111}_{0}$   $\underbrace{从~1000~0000~到~1111~1111}_{从~1~到~128}$ 

##### 3.尾数

###### a.规格化数 --- 以科学记数法表示的二进制数

###### 形如：$1.xxxx_{2}~~*~~2^{n} $

而浮点数都以规格化数存储，所以一定会有一个前导1，所以尾数只需要记录小数点后面的若干位二进制数

eg：求 $1101.011001_2$ 的编码

首先， $1101.011001_2$  = $+1.101011001_2~*~2^3$ ，即符号位为0,实际指数为3,尾数为101011001.

所以其编码为 $\underbrace0_{s}~\underbrace{1000~0010}_{指数}~\underbrace{10101100100..0}_{尾数}$

当需要从编码转化为其二进制数时，尾数部分会加到小数点后，小数点前固定有前导1，即1.10101100100...(还有指数部分和符号位)

##### 4.特殊情况

当指数为 0000 0000 (-127) 或 (-1023)时：

###### 在这种情况下，尾数的前导1都会取消

若尾数全为0，则表示0 （符号位0/1不影响）；

若尾数不为0，表示一个非规格化数，表示在0与最接近0的浮点数之间的空隙（详见书）。

当指数为 1111 1111(128) 或 (1024)时：

若尾数全为0，则表示 $\pm~\infty$ ；

若尾数不全为0，表示 NaN(Not a Number)

